server:
  port: 8084
  servlet:
    context-path: /resource-server
  tomcat:
    max-threads: 20

logging:
  level:
    org:
      springframework:
        security: ${SECURITY_LOGGING_LEVEL:info}

management:
  endpoints:
    web:
      exposure:
        include: '*'

spring:
  datasource:
    username: admin
    password: ${DB_PASSWORD}
    url: jdbc:mysql://scc.cxnse0qgwvdu.eu-west-1.rds.amazonaws.com:3306/resource-local
    driver-class-name: com.mysql.cj.jdbc.Driver

  flyway:
    url: jdbc:mysql://scc.cxnse0qgwvdu.eu-west-1.rds.amazonaws.com:3306
    schemas: resource-local
    user: admin
    password: ${DB_PASSWORD}
    enabled: true
scc:
  bucket:
    name: second-closet-club-images
    url: https://second-closet-club-images.s3.eu-west-1.amazonaws.com
    region: eu-west-1
    accessKey: AKIAVLRFY5LDBZ7WPU6D
    secretKey: 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

---
keycloak-client:
  server-url: ${KEYCLOAK_BASE_URI}
  username: masterapiuser
  password: masterapiuser
  clientId: b88ce206-63d6-43b6-87c9-ea09d8c02f32
  roleUserId: c9efed4b-9edd-486d-a16f-dc5654ddf0b7
  roleActiveMemberId: 4547c5d2-eb03-426f-bf3b-d7bf9a1a76dc

keycloak:
  auth-server-url:  ${KEYCLOAK_BASE_URI}
  proxyUrl: ${KEYCLOAK_PROXY_URI}
  realm: SecondClosetClub
  resource: frontEnd
  public-client: true
  ssl-required: none
  cors: true
  bearer-only: true
  use-resource-role-mappings: true
  security-constraints:
    - authRoles:
        - scc_user_role
      security-collections:
        - name: Logged in endpoint
        - patterns:
            - /api/private/*
    - authRoles:
        - scc_admin_role
      security-collections:
        - name: Admin only endpoints
          patterns:
            - /api/admin/*